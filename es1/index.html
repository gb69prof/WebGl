		<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>Gravity Lab WebGL — N‑Body Realistico</title>
  <link rel="stylesheet" href="./css/style.css" />
</head>
<body>
  <div id="app">
    <canvas id="c"></canvas>

    <div id="hud">
      <div class="hud-row">
        <div class="brand">
          <div class="brand-title">GRAVITY LAB</div>
          <div class="brand-sub">Simulazione N‑Body (Newton) • iPad‑friendly</div>
        </div>
        <div class="hud-actions">
          <button id="btnPause" class="btn primary">Pausa</button>
          <button id="btnReset" class="btn">Reset</button>
          <button id="btnPreset" class="btn">Preset</button>
        </div>
      </div>

      <div class="panel">
        <div class="panel-grid">
          <div class="field">
            <label>Scenario</label>
            <select id="presetSelect"></select>
          </div>

          <div class="field">
            <label>Selezione corpo</label>
            <select id="bodySelect"></select>
          </div>

          <div class="field">
            <label>Modalità</label>
            <select id="modeSelect">
              <option value="inspect">Ispeziona</option>
              <option value="kick">Modifica velocità (kick)</option>
              <option value="add">Aggiungi corpo</option>
            </select>
          </div>

          <div class="field">
            <label>Tempo (scala)</label>
            <input id="timeScale" type="range" min="0.1" max="50" value="6" step="0.1" />
            <div class="hint"><span id="timeScaleVal"></span></div>
          </div>

          <div class="field">
            <label>Δt (giorni)</label>
            <input id="dt" type="range" min="0.001" max="0.2" value="0.01" step="0.001" />
            <div class="hint"><span id="dtVal"></span></div>
          </div>

          <div class="field">
            <label>G (forza gravitazionale)</label>
            <input id="gScale" type="range" min="0.2" max="3.0" value="1.0" step="0.01" />
            <div class="hint"><span id="gScaleVal"></span></div>
          </div>

          <div class="field">
            <label>Smorzamento (attrito)</label>
            <input id="damping" type="range" min="0.0" max="0.01" value="0.0005" step="0.0001" />
            <div class="hint"><span id="dampingVal"></span></div>
          </div>

          <div class="field">
            <label>Traccia orbite</label>
            <input id="trail" type="range" min="0" max="1" value="1" step="1" />
            <div class="hint"><span id="trailVal"></span></div>
          </div>

          <div class="field">
            <label>Numero di punti traccia</label>
            <input id="trailLen" type="range" min="64" max="4096" value="1400" step="32" />
            <div class="hint"><span id="trailLenVal"></span></div>
          </div>
        </div>

        <div id="help" class="help">
          <div class="help-title">Comandi (iPad / touch)</div>
          <ul>
            <li><b>1 dito</b>: ruota la camera • <b>2 dita</b>: zoom</li>
            <li><b>Tocca un corpo</b>: lo selezioni e la camera lo segue (focus)</li>
            <li><b>Modalità “Modifica velocità”</b>: trascina la freccia per cambiare v (kick)</li>
            <li><b>Modalità “Aggiungi corpo”</b>: tocchi nel piano, poi trascini per impostare v</li>
          </ul>
          <div class="small">
            Unità interne: distanza in AU, tempo in giorni, masse in masse solari (scalate). Render in scala visiva.
          </div>
        </div>

        <div id="status" class="status"></div>
      </div>
    </div>

    <div id="gestureOverlay" class="gesture-overlay hidden">
      <div class="gesture-card">
        <div class="gesture-title" id="gestureTitle"></div>
        <div class="gesture-sub" id="gestureSub"></div>
        <div class="gesture-hint">Trascina per definire vettore • Rilascia per confermare</div>
        <button id="btnCancelGesture" class="btn danger">Annulla</button>
      </div>
    </div>
  </div>

  <script type="module" src="./js/main.js"></script>
</body>
</html>
